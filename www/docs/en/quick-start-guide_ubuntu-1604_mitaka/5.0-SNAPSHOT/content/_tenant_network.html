<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:exsl="http://exslt.org/common" xmlns:ng="http://docbook.org/docbook-ng" xmlns:fb="http://ogp.me/ns/fb#"><head>
<link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet"/>
<title>Tenant Network - MidoNet Quick Start Guide for Ubuntu 16.04 / Mitaka
   - 5.0-SNAPSHOT</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"/><meta name="mavenGroupId" content="org.midonet"/><meta name="mavenArtifactId" content="midonet-docs-quick-start-guide-ubuntu-1604-mitaka-en"/><meta name="mavenVersionId" content="5.0-SNAPSHOT"/><link rel="home" href="index.html" title="MidoNet Quick Start Guide for Ubuntu 16.04 / Mitaka"/><link rel="up" href="initial_network_configuration.html" title="Chapter 5. Initial Network Configuration"/><link rel="prev" href="_external_network.html" title="External Network"/><link rel="next" href="edge_router_setup.html" title="Chapter 6. Edge Router Setup"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="git-sha" content="77be290d56ab09cad9d611c0204e8915df89b4ae"/><meta name="buildTime" content="2016-07-12T03:25:04+00:00"/><script type="text/javascript">
            //The id for tree cookie
            var treeCookieId = "treeview-book_quick_install_guide_ubuntu-1604_mitaka_en";
            var language = "en";
            var w = new Object();
            //Localization
            txt_filesfound = 'Results';
            txt_enter_at_least_1_char = "You must enter at least one character.";
            txt_browser_not_supported = "Please enable JavaScript.";
            txt_please_wait = "Please wait. Search in progress...";
            txt_results_for = "Results for: ";
        </script><style type="text/css">
            input {
            margin-bottom: 5px;
            margin-top: 2px;
            }

            .folder {
            display: block;
            height: 22px;
            padding-left: 20px;
            background: transparent url(../common/jquery/treeview/images/folder.gif) 0 0px no-repeat;
            }
            
        </style><link rel="shortcut icon" href="../favicon.ico" type="image/x-icon"/><link rel="stylesheet" type="text/css" href="../common/css/positioning.css"/><link rel="stylesheet" type="text/css" href="../common/css/custom.css"/><!--[if IE]>
	<link rel="stylesheet" type="text/css" href="../common/css/ie.css"/>
	<![endif]--><link rel="stylesheet" type="text/css" href="../common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/treeview/jquery.treeview.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery-ui-1.8.2.custom.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery.cookie.js"><!----></script><script type="text/javascript" src="../common/jquery/treeview/jquery.treeview.min.js"><!----></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/qtip2/2.2.0/jquery.qtip.min.css"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.0/jquery.qtip.min.js"><!--jQuery plugin for glossary popups. --></script><script type="text/javascript" src="search/htmlFileList.js"><!----></script><script type="text/javascript" src="search/htmlFileInfoList.js"><!----></script><script type="text/javascript" src="search/nwSearchFnt.js"><!----></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"><!--//make this scalable to other languages as well.--></script><script type="text/javascript" src="search/index-1.js"><!----></script><script type="text/javascript" src="search/index-2.js"><!----></script><script type="text/javascript" src="search/index-3.js"><!----></script><script type="text/javascript">
	    var _gaq = _gaq || [];
	    _gaq.push(['_setAccount', 'UA-56283377-4']);
	    
	    _gaq.push(['_setDomainName', '.midonet.org']);	        
	        </script><script type="text/javascript" src="../common/ga.js"><!----></script></head><body><div id="header"><a onclick="_gaq.push(['_trackEvent', 'Header', 'logo', 'click', 1]);" target="_blank" href="https://www.midonet.org"><img src="../common/images/midonet-logo.png" alt="MidoNet Documentation" width="157" height="47"/></a><h1>Tenant Network</h1><div id="navheader" align="right"><!----><table class="navLinks"><tr><td><a id="showHideButton" onclick="showHideToc(); _gaq.push(['_trackEvent', 'Header', 'show/hide', 'click', 1]);" class="pointLeft" title="Hide TOC tree">Sidebar
                            </a></td><td><a accesskey="p" class="navLinkPrevious" onclick="_gaq.push(['_trackEvent', 'Header', 'prevLink', 'click', 1]);" tabindex="5" href="_external_network.html">Prev</a>
				      |
                                        <a accesskey="u" class="navLinkUp" onclick="_gaq.push(['_trackEvent', 'Header', 'upLink', 'click', 1]);" tabindex="5" href="initial_network_configuration.html">Up</a>
				  |
                                    <a accesskey="n" class="navLinkNext" onclick="_gaq.push(['_trackEvent', 'Header', 'nextLink', 'click', 1]);" tabindex="5" href="edge_router_setup.html">Next</a></td></tr></table></div></div><div id="toolbar" class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><div id="toolbar-left"><p class="breadcrumbs"><a href="https://docs.midonet.org/">MidoNet Manuals</a><a href="index.html">MidoNet Quick Start Guide for Ubuntu 16.04 / Mitaka
   - 5.0-SNAPSHOT</a></p><a onclick="_gaq.push(['_trackEvent', 'Header', 'pdfDownload', 'click', 1]);" alt="Download a pdf of this document" class="pdficon" href="../MidoNet_Quick_Start_Guide_Ubuntu-1604_Mitaka_EN_5.0-SNAPSHOT.pdf"><img src="../common/images/pdf.png"/></a><div id="gplusone"><a id="AskOOLink1" href="https://github.com/midonet/midonet/wiki/Communication" target="_blank" title="Questions? Discuss on Mailing Lists or Chat."><i class="icon-question"><!----></i></a>  
        <a id="logABugLink1" href="https://midonet.atlassian.net/browse/MND/" target="_blank" title="Found an error? Report a bug."><i class="icon-bug"><!----></i></a></div></div></div><div id="content"><div class="statustext">DRAFT -  DRAFT -  DRAFT -  DRAFT -  DRAFT -  DRAFT -  DRAFT -  DRAFT - </div><div class="section"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="_tenant_network"> </a>Tenant Network</h2></div></div></div><p>The tenant network provides internal network access for instances. The
architecture isolates this type of network from other tenants. The demo tenant
owns this network because it only provides network access for instances within
it.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../common/images/admon/note.png"/></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Perform these commands on the controller node.</p></td></tr></table></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara"><span class="strong"><strong>Create the tenant network</strong></span></p><div class="informalexample"><p>Source the <code class="literal">demo</code> credentials to gain access to user-only CLI commands:</p><pre class="screen">$ source demo-openrc.sh</pre><p>Create the network:</p><pre class="screen">$ neutron net-create demo-net
Created a new network:
+-----------------+--------------------------------------+
| Field           | Value                                |
+-----------------+--------------------------------------+
| admin_state_up  | True                                 |
| id              | ac108952-6096-4243-adf4-bb6615b3de28 |
| name            | demo-net                             |
| router:external | False                                |
| shared          | False                                |
| status          | ACTIVE                               |
| subnets         |                                      |
| tenant_id       | cdef0071a0194d19ac6bb63802dc9bae     |
+-----------------+--------------------------------------+</pre><p>Like the external network, your tenant network also requires a subnet attached
to it. You can specify any valid subnet because the architecture isolates tenant
networks. By default, this subnet uses DHCP so your instances can obtain IP
addresses.</p></div></li><li class="listitem"><p class="simpara"><span class="strong"><strong>Create a subnet on the tenant network</strong></span></p><div class="informalexample"><p>Create the subnet:</p><pre class="screen">$ neutron subnet-create demo-net TENANT_NETWORK_CIDR \
  --name demo-subnet --dns-nameserver DNS_RESOLVER \
  --gateway TENANT_NETWORK_GATEWAY</pre><p>Replace <code class="literal">TENANT_NETWORK_CIDR</code> with the subnet you want to associate with the
tenant network, <code class="literal">DNS_RESOLVER</code> with the IP address of a DNS resolver, and
<code class="literal">TENANT_NETWORK_GATEWAY</code> with the gateway you want to associate with the tenant
network, typically the ".1" IP address.</p><p>Example using <code class="literal">192.168.1.0/24</code> with DNS resolver <code class="literal">8.8.4.4</code> and gateway
<code class="literal">192.168.1.1</code>:</p><pre class="screen">$ neutron subnet-create demo-net 192.168.1.0/24 \
  --name demo-subnet --dns-nameserver 8.8.4.4 --gateway 192.168.1.1
Created a new subnet:
+-------------------+------------------------------------------------------+
| Field             | Value                                                |
+-------------------+------------------------------------------------------+
| allocation_pools  | {"start": "192.168.1.2", "end": "192.168.1.254"}     |
| cidr              | 192.168.1.0/24                                       |
| dns_nameservers   | 8.8.4.4                                              |
| enable_dhcp       | True                                                 |
| gateway_ip        | 192.168.1.1                                          |
| host_routes       |                                                      |
| id                | 69d38773-794a-4e49-b887-6de6734e792d                 |
| ip_version        | 4                                                    |
| ipv6_address_mode |                                                      |
| ipv6_ra_mode      |                                                      |
| name              | demo-subnet                                          |
| network_id        | ac108952-6096-4243-adf4-bb6615b3de28                 |
| tenant_id         | cdef0071a0194d19ac6bb63802dc9bae                     |
+-------------------+------------------------------------------------------+</pre><p>Attach the router to the demo tenant subnet:</p><pre class="screen">$ neutron router-interface-add demo-router demo-subnet
Added interface b1a894fd-aee8-475c-9262-4342afdc1b58 to router demo-router.</pre><p>Attach the router to the external network by setting it as the gateway:</p><pre class="screen">$ neutron router-gateway-set demo-router ext-net
Set gateway for router demo-router</pre></div></li></ol></div></div><script type="text/javascript" src="../common/main.js"><!----></script><div class="logabug" style="text-align: center"><a id="AskOOLink2" href="https://github.com/midonet/midonet/wiki/Communication" target="_blank"><i class="icon-question"><!----></i>Questions? Discuss on Mailing Lists or Chat.</a><br/><a id="logABugLink2" href="https://midonet.atlassian.net/browse/MND/" target="_blank"><i class="icon-bug"><!----></i>Found an error? Report a bug.</a></div><hr/><div id="disqus_thread"><script type="text/javascript">
	      if(window.location.protocol.substring(0,4) == 'http'){
	        var disqus_shortname = 'midonet';
	      
	        var disqus_identifier = 'book_quick_install_guide_ubuntu-1604_mitaka_en5.0-SNAPSHOT_tenant_network';
	      
	      }
	    </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><script type="text/javascript" src="../common/comments.js"><!----></script></div><hr/><div class="legal"><a href="index.html">Legal notices</a></div></div><div><div id="leftnavigation" style="padding-top:3px; background-color:white;"><div id="tabs"><ul><li><a href="#treeDiv" tabindex="1"><span class="contentsTab">Contents</span></a></li><li><a href="#searchDiv" tabindex="1"><span class="searchTab">Search</span></a></li></ul><div id="treeDiv"><img src="../common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none" class="thisisthat"><ul id="tree" class="filetree"><li tabindex="2"><span class="file"><a href="preface.html">Preface</a></span><ul><li tabindex="2"><span class="file"><a href="preface.html#_conventions">Conventions</a></span><ul><li tabindex="2"><span class="file"><a href="preface.html#_notices">Notices</a></span></li><li tabindex="2"><span class="file"><a href="preface.html#_command_prompts">Command prompts</a></span></li></ul></li></ul></li><li tabindex="2"><span class="file"><a href="_architecture.html">1. Architecture</a></span><ul><li tabindex="2"><span class="file"><a href="_hosts_and_services.html">Hosts and Services</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="_basic_environment_configuration.html">2. Basic Environment Configuration</a></span><ul><li tabindex="2"><span class="file"><a href="_networking_configuration.html">Networking Configuration</a></span></li><li tabindex="2"><span class="file"><a href="_repository_configuration.html">Repository Configuration</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="_openstack_installation.html">3. OpenStack Installation</a></span><ul><li tabindex="2"><span class="file"><a href="_identity_service_keystone.html">Identity Service (Keystone)</a></span></li><li tabindex="2"><span class="file"><a href="_compute_services_nova.html">Compute Services (Nova)</a></span><ul><li tabindex="2"><span class="file"><a href="_controller_node.html">Controller Node</a></span></li><li tabindex="2"><span class="file"><a href="nova_compute_node.html">Compute Node</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="_networking_services_neutron.html">Networking Services (Neutron)</a></span><ul><li tabindex="2"><span class="file"><a href="neutron_controller_node_installation.html">Controller Node</a></span><ul><li tabindex="2"><span class="file"><a href="configure_lbaas.html">Configure Load-Balancer-as-a-Service (LBaaS)</a></span></li><li tabindex="2"><span class="file"><a href="configure_fwaas.html">Configure FireWall-as-a-Service (FWaaS)</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="neutron_compute_node.html">Compute Node</a></span></li></ul></li></ul></li><li tabindex="2"><span class="file"><a href="_midonet_installation.html">4. MidoNet Installation</a></span><ul><li tabindex="2"><span class="file"><a href="_nsdb_nodes.html">NSDB Nodes</a></span><ul><li tabindex="2"><span class="file"><a href="_zookeeper_installation.html">ZooKeeper Installation</a></span></li><li tabindex="2"><span class="file"><a href="_cassandra_installation.html">Cassandra Installation</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="_controller_node_2.html">Controller Node</a></span><ul><li tabindex="2"><span class="file"><a href="_midonet_cluster_installation.html">MidoNet Cluster Installation</a></span></li><li tabindex="2"><span class="file"><a href="_midonet_cli_installation.html">MidoNet CLI Installation</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="_midolman_installation.html">Midolman Installation</a></span></li><li tabindex="2"><span class="file"><a href="_midonet_host_registration.html">MidoNet Host Registration</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="initial_network_configuration.html">5. Initial Network Configuration</a></span><ul><li tabindex="2"><span class="file"><a href="_external_network.html">External Network</a></span></li><li tabindex="2" id="webhelp-currentid"><span class="file"><a href="_tenant_network.html">Tenant Network</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="edge_router_setup.html">6. Edge Router Setup</a></span></li><li tabindex="2"><span class="file"><a href="bgp_uplink_configuration.html">7. BGP Uplink Configuration</a></span></li><li tabindex="2"><span class="file"><a href="_further_steps.html">8. Further Steps</a></span></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="Verifie(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><center><input id="textToSearch" name="textToSearch" type="text" class="searchText"/> &nbsp; <input onclick="Verifie(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></center></fieldset></form></div><div id="searchResults"><center/></div><p class="searchHighlight"><a href="#" onclick="toggleHighlight()">Search Highlighter (On/Off)</a></p></div></div></div></div></body></html>