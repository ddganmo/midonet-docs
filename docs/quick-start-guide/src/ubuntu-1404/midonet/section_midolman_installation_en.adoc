= Midolman Installation

The _MidoNet Agent (Midolman)_ has to be installed on all nodes where traffic
enters or leaves the virtual topology, in this guide this are the
*_controller_*, *_gateway1_*, *_gateway2_* and *_compute1_* nodes.

. *Install Midolman package*
+
====
[source]
----
# apt-get install midolman
----
====

. *Configure Network State Database (NSDB)*
+
====
Edit the `/etc/midolman/midolman.conf` file to contain the following:

[literal,subs="quotes"]
----
[zookeeper]
zookeeper_hosts = *_nsdb1_*:2181,*_nsdb1_*:2181,*_nsdb1_*:2181

...

[cassandra]
servers = *_nsdb1_*,*_nsdb2_*,*_nsdb3_*
replication_factor = 3
cluster = midonet
----
====

. *Configure Quagga*
+
====
Edit the `/etc/midolman/midolman.conf` file to contain the following:

[source]
----
bgpd_binary = /usr/lib/quagga/
----
====

. *Restart Midolman*
+
====
[source]
----
# service midolman restart
----
====
