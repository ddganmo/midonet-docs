[[bgp_setup]]
= BGP 設定

MidoNetを外部の自律システム（AS）に設定するBGPリンクを設定します。これにより、外部ネットワークにアップリンクを作成することができます。

通常、二つの独立したアップリンクルーターを通じて、MidoNetネットワークをインターネットに接続します。シンプルなケースでは、MidoNetを二つのBGP利用可能なルーターを通じてインターネットに接続します。これは仮想ルーターで二つのポートを作成して、二つの違ったホスト（二つのゲートウェイノード）でネットワークインターフェースにバインドする最適な方法です。これによって、ゲートウェイノードホスト間でロードを分散でき、単一障害点を削除することができます。二つのポートは、ステートフルポートペアとして設定される必要があります。詳細に関しては、xref:stateful_port_groups[]を参照ください。

[NOTE]
一つのBGPセッションは仮想ルーターポートに関連づけられています。MidoNetは現在、各ポートに一つのBGPセッションを行う設定のみをサポートしています。
	
MidoNetは仮想ルーターのために、BGPセッションを終了する為にquaggaの bgpd を使用しています。Bgpdがそのピアから学ぶルートはMidoNetトポロジーの仮想ルーターに追加されます。
QuaggaパッケージはMidoNetリリースパッケージレポジトリで提供されます。Midolmanを走らせているシステムは、BGPを設定する全てを保持している必要があります。ある特定の仮想ルーターが向かっているホストでbgpdプロセスが走っている必要があります。

[IMPORTANT]
BGPを設定する前に、BGPセッションのためのローカルとピアの自律システム(AS)番号とBGPピアのIPアドレスを確認してください。
